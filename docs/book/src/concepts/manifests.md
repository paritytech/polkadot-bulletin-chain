# Manifests & IPFS

## What is a Manifest?

In the context of the SDK, a **Manifest** is a small data structure that describes how to reassemble a large file from its chunks. We use [**DAG-PB**](https://docs.ipfs.tech/concepts/merkle-dag/) (Merkle DAG Protobuf), which is the default format for IPFS.

When you upload a large file using the SDK:
1.  The file is split into chunks (leaves).
2.  Each chunk is hashed and uploaded.
3.  A "Root Node" (the manifest) is created. It contains:
    - `Links`: A list of CIDs pointing to the chunks.
    - `Data`: UnixFS metadata (file size, type).

## IPFS Compatibility

Because we use standard DAG-PB:
- The **Root CID** generated by the SDK is identical to the CID generated by running `ipfs add --chunker=size-1048576 file.bin`.
- If you run an IPFS node and pin the chunks, the file becomes available on the public IPFS network.
- Bulletin Chain acts as the "ledger of record" for these CIDs.

## Manifest Structure

A simplified view of a manifest node:

```protobuf
message PBNode {
  repeated PBLink Links = 2;
  optional bytes Data = 1;
}

message PBLink {
  optional bytes Hash = 1; // CID of the chunk
  optional string Name = 2;
  optional uint64 Tsize = 3; // Size of the chunk
}
```

The SDKs include a `DagBuilder` (Rust) or `UnixFsDagBuilder` (TS) that constructs this binary format for you.
